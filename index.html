<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Card Picker Game</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh; /* Ensure the body takes up the full height of the screen */
            margin: 0;
            padding: 0;
            flex-direction: column;
            text-align: center;
            background-color: #fff; /* Light mode background color */
            color: #000; /* Light mode text color */
            transition: background-color 0.3s, color 0.3s;
        }
        body.dark-mode {
            background-color: #2c3e50; /* Dark mode background color */
            color: #ecf0f1; /* Dark mode text color */
        }
        .card {
            display: inline-block;
            width: 100px;
            height: 150px;
            margin: 10px;
            background-color: #3498db;
            color: white;
            font-size: 24px;
            line-height: 150px;
            cursor: pointer;
            border-radius: 10px;
            transition: transform 0.3s ease;
        }
        .card:hover {
            transform: scale(1.1);
        }
        .result {
            margin-top: 20px;
            font-size: 20px;
        }
        .inputBox {
            margin-top: 30px;
        }
        .hidden {
            display: none;
        }
        #logo {
            margin-top: 30px;
            width: 550px; /* Adjust the size of the logo */
        }
        #footerText {
            margin-top: 20px;
            font-size: 16px;
            color: #9d4eb5;
        }
        #darkModeButton {
            padding: 10px 20px;
            background-color: #3498db;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            position: fixed;
            top: 10px;
            left: 10px;
            z-index: 10;
        }
        #darkModeButton:hover {
            background-color: #2980b9;
        }
        #description {
            font-size: 15px;
            margin-bottom: 20px;
            color: #555;
        }
        body.dark-mode #description {
            color: #ecf0f1; /* Dark mode text color for description */
        }
        #shuffleButton {
            margin-top: 20px;
            padding: 10px 20px;
            background-color: #f39c12;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
        }
        #shuffleButton:hover {
            background-color: #e67e22;
        }
        #inputBox, #cardArea {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
    </style>
</head>
<body>
    <button id="darkModeButton" onclick="toggleDarkMode()">Switch to Dark Mode</button>

    <div id="inputBox" class="inputBox">
        <div id="description">
            <p><strong>How to Input Messages:</strong></p>
            <p>Enter your messages in the format: <code>Word Number</code>, separated by commas. For example:</p>
            <p><code>Winner 3, Dare 5, Truth 5</code></p>
            <p>Where the <strong>word</strong> is the message, and the <strong>number</strong> indicates how many times that word will appear in the pool. The higher the number, the more likely the word will be selected. Once you’ve entered your messages, click the “Apply” button to start the game!</p>
        </div>
        <h1>Enter Custom Messages for Cards </h1>
        <label for="cardMessages">Messages for Cards:</label>
        <textarea id="cardMessages" rows="4" cols="50" placeholder="Enter messages with frequency, e.g., Winner 3, Truth 5, Dare 5"></textarea>
        <br>
        <button onclick="applyMessages()">Apply</button>
    </div>

    <div id="cardArea" class="hidden">
        <h1>Pick a Card!</h1>
        <div class="card hidden" id="card1" onclick="revealCard(1)">1</div>
        <div class="card hidden" id="card2" onclick="revealCard(2)">2</div>
        <div class="card hidden" id="card3" onclick="revealCard(3)">3</div>

        <div class="result" id="result"></div>

        <button onclick="resetCards()">Reset</button>
        <button onclick="startOver()">Start Over</button>
        <button id="shuffleButton" onclick="shuffleCards()">Shuffle Cards</button>
    </div>

    <!-- Footer text above the logo -->
    <div id="footerText">Made by SeriesPB</div>

    <!-- Logo at the bottom of the page -->
    <img id="logo" src="https://i.imgur.com/zwrvv9H.png" alt="Game Logo">

    <script>
        let customMessages = [
            [], // Messages for card 1
            [], // Messages for card 2
            []  // Messages for card 3
        ];

        function applyMessages() {
            const inputMessages = document.getElementById('cardMessages').value.split(',').map(msg => msg.trim());
            let allMessages = [];

            // Parse each input and distribute based on frequency
            inputMessages.forEach(input => {
                const parts = input.split(' ').map(part => part.trim());
                if (parts.length === 2 && !isNaN(parts[1])) {
                    const word = parts[0];
                    const frequency = parseInt(parts[1]);

                    // Add the word to the pool based on its frequency
                    for (let i = 0; i < frequency; i++) {
                        allMessages.push(word);
                    }
                }
            });

            // Shuffle the array to randomize the order
            allMessages = shuffleArray(allMessages);

            // Distribute the shuffled messages across the three cards
            const messagesPerCard = Math.floor(allMessages.length / 3);
            for (let i = 0; i < 3; i++) {
                customMessages[i] = allMessages.slice(i * messagesPerCard, (i + 1) * messagesPerCard);
            }
            // If there are leftover messages, assign them to the last card
            if (allMessages.length % 3 !== 0) {
                customMessages[2] = customMessages[2].concat(allMessages.slice(3 * messagesPerCard));
            }

            // Shuffle the cards positions
            shuffleCards();

            // Hide the input box and show the cards
            document.getElementById('inputBox').classList.add('hidden');
            document.getElementById('cardArea').classList.remove('hidden');
            document.querySelectorAll('.card').forEach(card => card.classList.remove('hidden'));
        }

        function revealCard(cardNumber) {
            // Pick a random message from the selected card's message list
            const randomMessage = customMessages[cardNumber - 1][Math.floor(Math.random() * customMessages[cardNumber - 1].length)];

            // Hide the cards after selection
            document.querySelectorAll('.card').forEach(card => card.classList.add('hidden'));

            // Display the result
            document.getElementById('result').textContent = `You picked card ${cardNumber}: ${randomMessage}`;
        }

        function resetCards() {
            // Show the cards again and reset the result
            document.querySelectorAll('.card').forEach(card => card.classList.remove('hidden'));
            document.getElementById('result').textContent = '';
        }

        function startOver() {
            // Hide the cards and show the input box again
            document.getElementById('inputBox').classList.remove('hidden');
            document.getElementById('cardArea').classList.add('hidden');
            document.getElementById('cardMessages').value = '';
        }

        function toggleDarkMode() {
            const body = document.body;
            const button = document.getElementById('darkModeButton');

            body.classList.toggle('dark-mode');
            if (body.classList.contains('dark-mode')) {
                button.textContent = 'Switch to Light Mode';
            } else {
                button.textContent = 'Switch to Dark Mode';
            }
        }

        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]]; // Swap elements
            }
            return array;
        }

        function shuffleCards() {
            const cardArea = document.getElementById('cardArea');
            const cards = Array.from(cardArea.getElementsByClassName('card'));
            const shuffledCards = shuffleArray(cards);

            // Remove old cards from DOM and append the shuffled cards
            shuffledCards.forEach(card => cardArea.appendChild(card));
        }
    </script>
</body>
</html>
